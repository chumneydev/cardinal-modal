!function(t){this.Cardinal=function(){var t;this.closeButton=null,this.modal=null,this.overlay=null,this.transitionEnd=(t=document.createElement("div")).style.WebkitTransition?"webkitTransitionEnd":t.style.OTransition?"oTransitionEnd":"transitionend";if(arguments[0]&&"object"==typeof arguments[0]&&(this.options=function(t,e){var o;for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}({title:"",subTitle:"",headerColor:"#5fe4e2",autoOpen:!1,className:"fade-and-drop",closeButton:!0,content:"",maxWidth:600,minWidth:280,height:0,overlay:!0,ajaxURL:"",cookieAmount:0,cookieName:"",cookieValue:"",exitIntent:!1,onOpening:function(){}},arguments[0])),!0===this.options.autoOpen&&(this.open(),console.info("Chumney & Associates: Modal has opened")),!0===this.options.exitIntent){var e=!0;document.addEventListener("mouseout",t=>{null===t.toElement&&null===t.relatedTarget&&e&&(console.log("Chumney & Associates"),this.open(),e=!1)}),console.log("Chumney & Associates: exit intent engaged")}this.options.onOpening&&"function"==typeof this.options&&this.options.onOpening(this)},Cardinal.prototype.close=function(){var t=this;this.modal.className=this.modal.className.replace(" ca-modal-open",""),this.overlay.className=this.overlay.className.replace(" ca-modal-open",""),this.modal.addEventListener(this.transitionEnd,function(){t.modal.parentNode.removeChild(t.modal)}),this.overlay.addEventListener(this.transitionEnd,function(){t.overlay.parentNode&&t.overlay.parentNode.removeChild(t.overlay)}),console.log("Chumney Modal has closed")},Cardinal.prototype.open=function(){(function(){var t,e,o,i=new XMLHttpRequest;t="string"==typeof this.options.content?this.options.content:typeof this.options.content===i?this.options.content.innerHTML=i.responseText:this.options.content.innerHTML;o=document.createDocumentFragment(),this.modal=document.createElement("div"),this.modal.className="ca-modal "+this.options.className,this.modal.style.minWidth=this.options.minWidth+"px",this.modal.style.maxWidth=this.options.maxWidth+"px",!0===this.options.closeButton&&(this.closeButton=document.createElement("button"),this.closeButton.className="ca-modal-close ca-modal-close-button",this.closeButton.innerHTML="&times;",this.modal.appendChild(this.closeButton));!0===this.options.overlay&&(this.overlay=document.createElement("div"),this.overlay.className="ca-modal-overlay "+this.options.className,o.appendChild(this.overlay));""==this.options.title&&""==this.options.subTitle||(this.modalHeader=document.createElement("div"),this.modalHeader.className="ca-modal-header",this.modal.appendChild(this.modalHeader),null!==this.options.headerColor&&this.modalHeader.setAttribute("style","background:"+this.options.headerColor),""!=this.options.title&&(title=document.createElement("h1"),this.modalHeader.appendChild(title),createTitle=document.createTextNode(this.options.title),title.appendChild(createTitle)),""!=this.options.subTitle&&(subTitle=document.createElement("h4"),this.modalHeader.appendChild(subTitle),createSubTitle=document.createTextNode(this.options.subTitle),subTitle.appendChild(createSubTitle)));(e=document.createElement("div")).className="ca-modal-content",e.innerHTML=t,this.modal.appendChild(e),o.appendChild(this.modal),document.body.appendChild(o)}).call(this),function(){this.closeButton&&this.closeButton.addEventListener("click",this.close.bind(this));this.overlay&&this.overlay.addEventListener("click",this.close.bind(this));this.exitIntent&&(this.exitIntent.addEventListener("mouseleave",this.open.bind(this)),console.log("Chumney"))}.call(this),window.getComputedStyle(this.modal).height,this.modal.className=this.modal.className+(this.modal.offsetHeight>window.innerHeight?" ca-modal-open ca-modal-anchor":" ca-modal-open"),this.overlay.className=this.overlay.className+" ca-modal-open",this.setCookie(),this.allCookies(),this.checkCookie(),this.ajaxLoadContent()},Cardinal.prototype.ajaxLoadContent=function(){var t=this;t.options.content;if(""!=t.options.ajaxURL){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&(t.options.innerHTML=e.responseText,console.log(e.responseText))},e.open("GET",t.options.ajaxURL),e.send()}},Cardinal.prototype.allCookies=function(){var t=this;0!=t.options.cookieAmount&&(t.close(),console.log("liusehisuh"),console.log(t.checkCookie(t.options.cookieName)))},Cardinal.prototype.setCookie=function(t){var e,o,i,n,s=this;s.options.cookieAmount&&(e=s.options.cookieName,o=s.options.cookieValue,i=s.options.cookieAmount,(n=new Date).setTime(n.getTime()+24*i*60*60*1e3),document.cookie=e+"="+o+"; expires="+n.toUTCString(),console.log("Hello!"))},Cardinal.prototype.checkCookie=function(t){document.cookie.indexOf(this.options.cookieName)>-1&&console.log("Cookie Name is: "+this.options.cookieName)}}();